# Two networks: eth0 for host port mapping (SSH/telnet), eth1 bridged so VM is on routeros_net (containers see each other).
services:

  routeros:
    # Latest image
    image: evilfreelancer/docker-routeros:latest
    # or exact same version
    #image: evilfreelancer/docker-routeros:7.20.8
    # or minor version
    #image: evilfreelancer/docker-routeros:7.20
    # or major version
    #image: evilfreelancer/docker-routeros:7
    # or build from sources
    #build:
    #  context: .
    #  dockerfile: Dockerfile
    #  args:
    #    - ROUTEROS_VERSION=7.20.8
    restart: unless-stopped
    cap_add:
      - NET_ADMIN
    devices:
      - /dev/net/tun
      - /dev/kvm
    ports:
      #- "8080:80"
      - "2222:22"
      - "2223:23"
      - "8728:8728"
      - "8729:8729"
    volumes:
      - ./routeros_data:/data
    networks:
      - default
      - routeros_net

networks:
  routeros_net:
    driver: bridge
