services:

  routeros:
    # Latest image
    image: evilfreelancer/docker-routeros:latest
    # or exact same version
    #image: evilfreelancer/docker-routeros:7.20.8
    # or minor version
    #image: evilfreelancer/docker-routeros:7.20
    # or major version
    #image: evilfreelancer/docker-routeros:7
    # or build from sources
    #build:
    #  context: .
    #  dockerfile: Dockerfile
    #  args:
    #    - ROUTEROS_VERSION=7.20.8
    restart: unless-stopped
    cap_add:
      - NET_ADMIN
    devices:
      - /dev/net/tun
      - /dev/kvm
    ports:
      - "2222:22"
      - "2223:23"
      - "8728:8728"
      - "8729:8729"
    # /data is exposed to the VM as a FAT disk (ROUTEROS_DATA_DIR). Files here
    # are visible in RouterOS and persist across container/image updates.
    volumes:
      - ./routeros_data:/data
